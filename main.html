<!DOCTYPE html>

<html>
	<head>
		<script>

			function openGist () {

				var number = 3;
				var url;
				console.log("tiffany");
				var request = new XMLHttpRequest();
				url = 'https://api.github.com/gists' + '?page=' + (1);
				request.onreadystatechange = ifready;
				request.open('GET', url, true);
				request.send();

				/*for (var i=0; i<number; i++) {
					var request = new XMLHttpRequest();
					url = 'https://api.github.com/gists' + '?page=' + (i+1);
					request.onreadystatechange = ifready;
					request.open('GET', url, true);
					request.send();
					
				}*/
			
			
			/*function ifReady () {
				console.log("Hi");
				/*var data = JSON.parse(request.responseText);
				console.log(data[0].html_url);
			}*/
		
				//request.open('GET', 'https://api.github.com/gists?page=2', true);

				function ifready() {
					console.log("Hi");
					if (request.readyState === 4) {
						var data = JSON.parse(request.responseText);
						console.log(data[0].html_url);
						getArray(data);
					}
					else {
						document.getElementById("test").innerHTML = "no success!";
					}
					console.log("Bye");
				}
				

			var languageArray = [];
			var htmlArray = [];

			function getArray (input) {
				var parent;
				var fileName;
				for (var i=0; i<input.length; i++) {
					htmlArray.push(input[i].html_url);

					parent = input[i].files;
					for (var property in parent) {
						fileName = property;
					}

					for (var cProp in parent[fileName]) {
						if (cProp === "language") {
							languageArray.push(parent[fileName][cProp]);
						}
					}	

				}
			console.log (htmlArray.length);

			}
		}

/*
				function getArray (input) {
					var parent = input[0].files;
					for (var prop in parent) {
						var fileName = prop;
					}
					console.log(fileName);
					for (var property in parent[fileName]) {
						if (property === "language") {
							console.log (parent[fileName][property]);
						}
					}
					//for (var i=0; i<input.length; i++) {
						// isolate html_url and the url (before files, count); make array and return it
					//}
				}*/

		</script>
	</head>

	<body>
		<p>
			<button type = "submit" onClick="openGist();">Connect to Gists</button>
		</p>
		<p>
			<form id = "resultsForm" onSubmit="return openGist();">
				<legend>Number of Results:</legend>
					<input type="radio" id="noResults" value="30" />
					<label for "noResults">30</label>
					<input type="radio" id="noResults" value="60" />
					<label for "noResults">60</label>
					<input type="radio" id="noResults" value="90" />
					<label for "noResults">90</label>
					<input type="radio" id="noResults" value="120" />
					<label for "noResults">120</label>
					<input type="radio" id="noResults" value="150" />
					<label for "noResults">150</label>
				<button type = "submit">Set and Connect to Gists</button>				
			</form>
			<button type = "submit" onClick="openGist();">Show Results</button>
		</p>
		<div id = "test">
			successful?
		</div>
		<div id = "results">

		</div>
	</body>

</html>